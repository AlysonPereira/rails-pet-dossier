<nav class="navbar navbar-inverse">
  <div class="container-fluid justify-content-between">
    <%= link_to wish_lists_path do %>
      <i class="fa-solid fa-arrow-left-long fa-lg heading"></i>
    <% end %>
    <h2 class="text-center my-2 heading"><%= @wishlist.title.capitalize %></h2>
    <p></p>
  </div>
</nav>

<div class="container mt-2">
  <div>
    <div class="card-wishlist">
      <div class="me-3"><i class="fa-solid fa-sack-dollar"></i></div>
      <div>
        Total: $<%= @total.round(2) %>
      </div>
    </div>
  </div>
  <div class="mt-5">
    <% @products.each do |product|%>
      <div class="card-body my-3 card-product-wishlist">
        <div class="text-icone-trash mx-2" style="position: relative; top: 10px;">
          <%= link_to product_path(product), data: { turbo_method: :delete, turbo_confirm: 'Are you sure?'} do %>
            <i class="fa-solid fa-trash-can fa-lg w-100 text-end my-2 text-white"></i>
          <% end %>
        </div>
        <div class="d-flex justify-content-between align-items-center py-1 px-1">
          <i class="fa-solid fa-bone"></i>
          <% unless product.url.nil? %>
            <%= link_to product.url, target:"_blank", class: "text-decoration-none" do %>
              <p class="card-title mb-2"><strong><%=  truncate(product[:name].capitalize, length: 20) %></strong></p>
            <% end %>
          <% else %>
            <p class="card-title mb-2"><strong><%= product.name.capitalize %></strong></p>
          <% end %>
          <div>
            <h4 class="card-text mx-3"><strong> $ <%= product.price %></strong></h4>
          </div>
        </div>
      </div>
    <% end %>
  </div>
  <div class="d-flex justify-content-center mb-3">
    <%= link_to 'Add more products', new_wish_list_product_path(@wishlist), class: 'btn-product' %>
  </div>
</div>
<%= form_with url: "/wish_lists/#{@wishlist.id}/searchweb", method: :get, class: "d-flex mb-0" do |form| %>
  <div class="input-group mx-2">
    <%= form.text_field :search, class: "form-control mx-1", placeholder: "Product search..." %>
    <button type="submit" class="btn btn-primary">Search</button>
  </div>
<% end %>
